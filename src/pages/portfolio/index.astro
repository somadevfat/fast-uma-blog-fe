---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('portfolio')).sort(
  (a, b) => a.data.sortOrder - b.data.sortOrder
);
---

<BaseLayout title="Portfolio | Fast Uma">
  <section>
    <h1 class="text-4xl font-bold mb-12">Portfolio</h1>
    <div class="grid md:grid-cols-2 gap-8">
      {projects.map((project) => (
        <article class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition">
          {project.data.image && (
            <div class="aspect-video bg-gray-100 flex items-center justify-center text-gray-400">
               {/* Replace with actual image tag later */}
               <span class="text-sm">Image: {project.data.image}</span>
            </div>
          )}
          <div class="p-6">
            <h2 class="text-2xl font-bold mb-2">{project.data.title}</h2>
            <p class="text-gray-600 mb-4">{project.data.description}</p>
            <div class="flex flex-wrap gap-2 mb-6">
              {project.data.techStack?.map(tech => (
                <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md font-medium">{tech}</span>
              ))}
            </div>
            {project.data.link && (
               <a href={project.data.link} target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition">
                 View Project
               </a>
            )}
          </div>
        </article>
      ))}
    </div>
  </section>
</BaseLayout>
